<section class="contact-page">
  <div class="contact-background">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="grid-overlay"></div>
  </div>

  <div class="contact-container">
    <div class="contact-header" data-aos="fade-up">
      <span class="section-tag">
        <i class="fas fa-satellite-dish"></i>
        {{ 'contact.tag' | translate }}
      </span>
      <h1 class="contact-title">{{ 'contact.title' | translate }}</h1>
      <p class="contact-subtitle">{{ 'contact.subtitle' | translate }}</p>
    </div>

    <div class="contact-content">
      <!-- Contact Methods -->
      <div class="contact-methods" data-aos="fade-right">
        <div class="methods-grid">
          <a *ngFor="let method of contactMethods; let i = index"
             [href]="method.link" target="_blank" rel="noopener"
             class="contact-card"
             [attr.data-aos]="'zoom-in'" [attr.data-aos-delay]="i * 80">
            <div class="card-icon" [style.background]="'linear-gradient(135deg, ' + method.color + '22, ' + method.color + '44)'">
              <i [class]="method.icon" [style.color]="method.color"></i>
            </div>
            <div class="card-content">
              <span class="card-title">{{ method.title }}</span>
              <span class="card-value">{{ method.value }}</span>
            </div>
            <i class="fas fa-arrow-right card-arrow"></i>
          </a>
        </div>

        <a href="assets/resume_AbdulrahmanHuwais.pdf" download class="download-card" data-aos="fade-up">
          <div class="download-icon"><i class="fas fa-file-pdf"></i></div>
          <div class="download-content">
            <span class="download-title">{{ 'nav.downloadResume' | translate }}</span>
            <span class="download-subtitle">PDF format</span>
          </div>
          <i class="fas fa-download download-arrow"></i>
        </a>
      </div>

      <!-- Contact Form -->
      <div class="contact-form-wrapper" data-aos="fade-left">
        <h2 class="form-title">
          <i class="fas fa-paper-plane"></i>
          {{ 'contact.sendBtn' | translate }}
        </h2>

        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
          <div class="form-row">
            <div class="form-group">
              <label for="name">
                <i class="fas fa-user"></i>
                {{ 'contact.nameLabel' | translate }}
              </label>
              <input type="text" id="name" formControlName="name"
                     [placeholder]="'contact.namePlaceholder' | translate"
                     [class.error]="isFieldInvalid('name')">
              <span class="error-message" *ngIf="isFieldInvalid('name')">Required (min 2 chars)</span>
            </div>

            <div class="form-group">
              <label for="email">
                <i class="fas fa-envelope"></i>
                {{ 'contact.emailLabel' | translate }}
              </label>
              <input type="email" id="email" formControlName="email"
                     [placeholder]="'contact.emailPlaceholder' | translate"
                     [class.error]="isFieldInvalid('email')">
              <span class="error-message" *ngIf="isFieldInvalid('email')">Valid email required</span>
            </div>
          </div>

          <div class="form-group">
            <label for="subject">
              <i class="fas fa-tag"></i>
              {{ 'contact.subjectLabel' | translate }}
            </label>
            <input type="text" id="subject" formControlName="subject"
                   [placeholder]="'contact.subjectPlaceholder' | translate"
                   [class.error]="isFieldInvalid('subject')">
            <span class="error-message" *ngIf="isFieldInvalid('subject')">Subject is required</span>
          </div>

          <div class="form-group">
            <label for="message">
              <i class="fas fa-comment-alt"></i>
              {{ 'contact.messageLabel' | translate }}
            </label>
            <textarea id="message" formControlName="message" rows="5"
                      [placeholder]="'contact.messagePlaceholder' | translate"
                      [class.error]="isFieldInvalid('message')"></textarea>
            <span class="error-message" *ngIf="isFieldInvalid('message')">Required (min 10 chars)</span>
          </div>

          <button type="submit" class="submit-btn" [disabled]="isSubmitting" [class.submitting]="isSubmitting">
            <span *ngIf="!isSubmitting">
              <i class="fas fa-paper-plane"></i>
              {{ 'contact.sendBtn' | translate }}
            </span>
            <span *ngIf="isSubmitting" class="loading">
              <i class="fas fa-spinner fa-spin"></i>
              {{ 'contact.sendingBtn' | translate }}
            </span>
          </button>

          <div class="success-message" *ngIf="submitSuccess" data-aos="fade-up">
            <i class="fas fa-check-circle"></i>
            <span>{{ 'contact.successMsg' | translate }}</span>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
